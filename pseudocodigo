#_____FUNCIONES
# 0: ACTUALIZO BASE DE DATOS + BALANCEO + ACTUALIZAR FIAT + CRYPTO DISPONIBLES
# 1: ACTUALIZAR ORDENES EXISTENTES + CANCELO TODO SI TENGO ORDENES
# 2: ACTUALIZAR VARIABLE GLOBAL DE PRECIOS PUNTA DEL LIBRO DE ORDENES
# 3: COLOCA POSICIÓN ASK + PRECIO ASK + DETALLE TRANSACCIÓN ASK + ID TRANSACCIÓN + TESTIGO DE QUE TENGO ORDEN ASK
# 4: COLOCA POSICIÓN BID + PRECIO BID + DETALLE TRANSACCIÓN BID + ID TRANSACCIÓN + TESTIGO DE QUE TENGO ORDEN BID
# 5: ACTUALIZAR DETALLE TRANSACCIÓN ASK + TRUE SI EJECUTARON + FALSE SI NO EJECUTARON
# 6: [#10] + SUBO DATOS DE TRANSACCIÓN ASK A BIGQUERY
# 7: ACTUALIZAR DETALLE TRANSACCIÓN BID + TRUE SI EJECUTARON + FALSE SI NO EJECUTARON
# 8: [#11] + SUBO DATOS DE TRANSACCIÓN BID A BIGQUERY
# 9: ACTUALIZAR SALDO DE FIAT + SALDO DE CRYPTO
# 10:CANCELO TRANSACCIÓN ASK
# 11:CANCELO TRANSACCIÓN BID

#_____VARIABLES
# A: VALOR QUE ME DICE CUÁNTO ME DEBO ALEJAR DEL SPREAD ($)
# B: VALOR DEL SPREAD MÍNIMO AL CUAL DEBERÍA OPERAR
# C: DETALLE TRANSACCIÓN ASK
# D:DETALLE TRANSACCIÓN BID
# E: PRECIO ASK
# F: PRECIO BID

#_____LOOP INFINITO

    #_____LOOP PRIMERA ITERACIÓN

        #_____CANCELAR CUALQUIER TIPO DE ORDEN EXISTENTE # 1

        #_____BALANCEO DE ASK BID + ACTUALIZAR FIAT + CRYPTO DISPONIBLES # 0

        #_____SI NO TENGO NINGUNA ORDEN MONTADA

            #####

            #_____SI ESTOY EN ESCENARIO ASK

                #_____LOOP HASTA QUE MONTE LA TRANSACCIÓN

                    #_____ACTUALIZAR LIBRO DE ORDENES # 2

                    #_____DETERMIAR EL PRECIO TEÓRICO TRANSACCIÓN # A

                    #_____DETERMINAR SI HAY SPREAD # B

                    #_____SI TENGO SPREAD

                        #_____COLOCO POSICIÓN LIMIT ASK # 3

                          #_____LOOP HASTE QUE EJECUTO ASK

                            #####

                            #_____SI ME EJECUTARON ASK # 5

                              #_____CANCELAR + GUARDAR DATOS DE TRANSACCIÓN ASK # 6

                              #_____BALANCEO DE ASK BID + ACTUALIZAR FIAT + CRYPTO DISPONIBLES # 0

                            #####

                            #_____ELSE NO ME EJECUTARON ASK # 5

                              #_____ACTUALIZAR LIBRO DE ORDENES # 2

                              #####

                              #_____SI YA NO SOY LA ORDEN PUNTA ASK

                                #_____CANCELAR ASK # 10

                                #_____ACTUALIZAR LIBRO DE ORDENES # 2

                                #_____DETERMIAR EL PRECIO TEÓRICO TRANSACCIÓN # A

                                #_____DETERMINAR SI HAY SPREAD # B

                                #_____SI TENGO SPREAD

                                    #_____COLOCO POSICIÓN LIMIT ASK # 3

                                #_____ELSE NO TENGO SPREAD

                                  #_____SALIR DEL LOOP DE EJECUCIÓN

                              #####

                              #_____ELIF SE ME MONTARON

                                #_____NO SOY LA MAYOR PROPORCIÓN

                                  #_____CANCELAR ASK # 10

                                  #_____ACTUALIZAR LIBRO DE ORDENES # 2

                                  #_____DETERMIAR EL PRECIO TEÓRICO TRANSACCIÓN # A

                                  #_____DETERMINAR SI HAY SPREAD # B

                                  #_____SI TENGO SPREAD

                                      #_____COLOCO POSICIÓN LIMIT ASK # 3

                                  #_____ELSE NO TENGO SPREAD

                                    #_____SALIR DEL LOOP DE EJECUCIÓN

                                #_____SI SIGO SIENDO LA MAYOR PROPORCIÓN

                                  #_____ESPERAR

                              #####

                              #_____ELIF SOY LA PUNTA PERO ESTOY CERRANDO INNECESARIAMENTE EL SPREAD

                                #_____CANCELAR ASK # 10

                                #_____ACTUALIZAR LIBRO DE ORDENES # 2

                                #_____DETERMIAR EL PRECIO TEÓRICO TRANSACCIÓN # A

                                #_____DETERMINAR SI HAY SPREAD # B

                                #_____SI TENGO SPREAD

                                    #_____COLOCO POSICIÓN LIMIT ASK # 3

                                #_____ELSE NO TENGO SPREAD

                                  #_____SALIR DEL LOOP DE EJECUCIÓN

                    #_____ELSE TENGO SPREAD

                        #_____ESPERAR

            #####

            #_____ELIF Y SI ESTOY EN ESCENARIO BID

              #_____LOOP HASTA QUE MONTE LA TRANSACCIÓN

                #_____ACTUALIZAR LIBRO DE ORDENES # 2

                #_____DETERMIAR EL PRECIO TEÓRICO TRANSACCIÓN # A

                #_____DETERMINAR SI HAY SPREAD # B

                #_____SI TENGO SPREAD

                    #_____COLOCO POSICIÓN LIMIT BID # 4

                    #_____LOOP HASTE QUE EJECUTO BID

                      #####

                      #_____SI ME EJECUTARON BID # 7

                        #_____CANCELAR + GUARDAR DATOS DE TRANSACCIÓN BID # 8

                        #_____BALANCEO DE ASK BID + ACTUALIZAR FIAT + CRYPTO DISPONIBLES # 0

                      #####

                      #_____ELSE NO ME EJECUTARON BID # 7

                        #_____ACTUALIZAR LIBRO DE ORDENES # 2

                        #####

                        #_____SI YA NO SOY LA ORDEN PUNTA BID

                          #_____CANCELAR BID # 11

                          #_____ACTUALIZAR LIBRO DE ORDENES # 2

                          #_____DETERMIAR EL PRECIO TEÓRICO TRANSACCIÓN # A

                          #_____DETERMINAR SI HAY SPREAD # B

                          #_____SI TENGO SPREAD

                              #_____COLOCO POSICIÓN LIMIT BID # 4

                          #_____ELSE NO TENGO SPREAD

                            #_____SALIR DEL LOOP DE EJECUCIÓN

                        #####

                        #_____ELIF SE ME MONTARON

                          #_____NO SOY LA MAYOR PROPORCIÓN

                            #_____CANCELAR BID # 11

                            #_____ACTUALIZAR LIBRO DE ORDENES # 2

                            #_____DETERMIAR EL PRECIO TEÓRICO TRANSACCIÓN # A

                            #_____DETERMINAR SI HAY SPREAD # B

                            #_____SI TENGO SPREAD

                                #_____COLOCO POSICIÓN LIMIT BID # 4

                            #_____ELSE NO TENGO SPREAD

                              #_____SALIR DEL LOOP DE EJECUCIÓN

                          #_____SI SIGO SIENDO LA MAYOR PROPORCIÓN

                            #_____ESPERAR

                        #####

                        #_____ELIF SOY LA PUNTA PERO ESTOY CERRANDO INNECESARIAMENTE EL SPREAD

                          #_____CANCELAR BID # 11

                          #_____ACTUALIZAR LIBRO DE ORDENES # 2

                          #_____DETERMIAR EL PRECIO TEÓRICO TRANSACCIÓN # A

                          #_____DETERMINAR SI HAY SPREAD # B

                          #_____SI TENGO SPREAD

                              #_____COLOCO POSICIÓN LIMIT BID # 4

                          #_____ELSE NO TENGO SPREAD

                            #_____SALIR DEL LOOP DE EJECUCIÓN

                #_____SI NO TENGO SPREAD

                  #_____ESPERAR

            #####

            #_____ELIF Y SI ESTOY EN ESCENARIO ASK + BID

              #_____LOOP HASTA QUE MONTE LA TRANSACCIÓN

                #_____ACTUALIZAR LIBRO DE ORDENES

                #_____DETERMIAR EL PRECIO TEÓRICO TRANSACCIÓN # A

                #_____DETERMINAR SI HAY SPREAD # B

                #_____SI TENGO SPREAD

                    #_____COLOCO POSICIÓN LIMIT ASK # 3

                    #_____COLOCO POSICIÓN LIMIT BID # 4

                    #_____LOOP HASTE QUE EJECUTO ASK O BID

                      #####

                      #_____(SI ME EJECUTARON ASK # 5) O (SI ME EJECUTARON BID # 7)

                        #_____(SI ME EJECUTARON ASK # 5) Y (SI ME EJECUTARON BID # 7)

                          #_____CANCELAR + GUARDAR DATOS DE TRANSACCIÓN ASK # 6

                          #_____CANCELAR + GUARDAR DATOS DE TRANSACCIÓN BID # 8

                          #_____SALIR DEL LOOP DE EJECUCIÓN

                        #_____ELIF (SI ME EJECUTARON ASK # 5) Y (NO ME EJECUTARON BID # 7)

                          #_____CANCELAR + GUARDAR DATOS DE TRANSACCIÓN ASK # 6

                          #_____CANCELAR BID # 11

                          #_____SALIR DEL LOOP DE EJECUCIÓN

                        #_____ELIF (NO ME EJECUTARON ASK # 5) Y (SI ME EJECUTARON BID # 7)

                        #_____CANCELAR + GUARDAR DATOS DE TRANSACCIÓN BID # 8

                        #_____CANCELAR ASK # 10

                        #_____SALIR DEL LOOP DE EJECUCIÓN

                        #_____BALANCEO DE ASK BID + ACTUALIZAR FIAT + CRYPTO DISPONIBLES # 0

                      #####

                      #_____ELSE NO ME EJECUTARON ASK Y BID # 5

                        #_____ACTUALIZAR LIBRO DE ORDENES # 2

                        #####

                        #_____(SI YA NO SOY LA ORDEN PUNTA ASK) O (SI YA NO SOY LA ORDEN PUNTA BID)

                          #_____CANCELAR BID # 11

                          #_____CANCELAR ASK # 10

                          #_____SALIR DEL LOOP DE EJECUCIÓN

                        #####

                        #_____ELIF SE ME MONTARON EN ASK

                          #_____NO SOY LA MAYOR PROPORCIÓN

                            #_____CANCELAR BID # 11

                            #_____CANCELAR ASK # 10

                            #_____SALIR DEL LOOP DE EJECUCIÓN

                        #_____ELIF SE ME MONTARON EN BID

                          #_____NO SOY LA MAYOR PROPORCIÓN

                            #_____CANCELAR BID # 11

                            #_____CANCELAR ASK # 10

                            #_____SALIR DEL LOOP DE EJECUCIÓN

                        #####

                        #_____ELIF SOY LA PUNTA PERO ESTOY CERRANDO INNECESARIAMENTE EL SPREAD ASK

                          #_____CANCELAR BID # 11

                          #_____CANCELAR ASK # 10

                          #_____SALIR DEL LOOP DE EJECUCIÓN

                        #_____ELIF SOY LA PUNTA PERO ESTOY CERRANDO INNECESARIAMENTE EL SPREAD BID

                          #_____CANCELAR BID # 11

                          #_____CANCELAR ASK # 10

                          #_____SALIR DEL LOOP DE EJECUCIÓN

                #_____SI NO TENGO SPREAD

                    #_____ESPERAR
